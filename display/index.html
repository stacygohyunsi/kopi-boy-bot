<html>
	<head>
			<title>Orders</title>
			<link rel="stylesheet" href="/bower_components/angular-material/angular-material.min.css" />
			<link rel="stylesheet" href="/bower_components/font-awesome/css/font-awesome.min.css" />			
			<link href="https://fonts.googleapis.com/css?family=Anonymous+Pro" rel="stylesheet">			
			<link rel="stylesheet" href="./css/index.css" />			
      <script src="/bower_components/angular/angular.min.js"></script>
			<script src="/bower_components/angular-aria/angular-aria.min.js"></script>
			<script src="/bower_components/angular-animate/angular-animate.min.js"></script>
			<script src="/bower_components/angular-material/angular-material.min.js"></script>		
      <script src="/bower_components/firebase/firebase.js"></script>		
      <script src="/bower_components/angularfire/dist/angularfire.js"></script>	
      <script src="/bower_components/moment/min/moment.min.js"></script>														
      <script src="./js/index.js"></script>
			<script>
				// Initialize the Firebase SDK

				var config = {
					apiKey: "AIzaSyAr-GmcfRJkiiOYau8zlUQYXTs8lBqGCiw",
					authDomain: "kopiboyapp-6a596.firebaseapp.com",
					databaseURL: "https://kopiboyapp-6a596.firebaseio.com",
					storageBucket: "kopiboyapp-6a596.appspot.com"
				}
								
				firebase.initializeApp(config);
			</script>			
	</head>
	<body ng-app="display" ng-controller="main">
		<md-content layout="column">
			<md-card style="background-color:#F4B350;"
				ng-repeat="order in orders"
				ng-init="getCustomerName(order.customer)">
				<md-card-content layout="row">
					<div style="padding-right:10px;" ng-if="customerProfile[order.customer].picture">
						<div ng-style="{'background-image':'url({{customerProfile[order.customer].picture}})'}"
						style="
							background-size:cover;
							background-position:center;
							border-radius:9999em;
							height:64px;
							width:64px;">
						</div>
					</div>
					<div layout="column" layout-align="center center" style="padding-right:30px;">
						<span style="font-family: 'Anonymous Pro', monospace;font-size:25px;font-weight:700;" ng-repeat="(key, value) in order.items">
							<span style="background-color: #EB974E; padding:10px;">{{value}}</span> 
							<span>{{key}}</span>
						</span>
						<span style="padding-top:10px;">{{customerProfile[order.customer].name}}</span>
					</div>
					<div style="padding-right:10px;">
						<div style="height:64px;width:64px;" ng-class="{'hot': order.temperature === 'Hot', 'cold': order.temperature === 'Cold', 'iced': order.temperature === 'Iced'}"></div>
					</div>
					<div style="padding-right:10px;">
						<span layout="column" layout-align="center center" style="font-family: 'Anonymous Pro', monospace;color:white; font-size:25px;">
							<span>{{order.sugar}}</span>
							<span>SUGAR</span>
						</span>
					</div>	
					<div flex>
						<p style="font-family: 'Anonymous Pro', monospace;color:white; font-size:25px;padding-right:10px;">{{order.pickup_at}}</p>
					</div>	
					<div layout="column" layout-align="center center" style="height:64px;width:64px;background-color:lightgray;">
						<i class="fa fa-comment"></i>
					</div>		
					<div layout="column" layout-align="center center" style="height:64px;width:64px;background-color:green;">
						<i class="fa fa-comment"></i>
					</div>		
					<div layout="column" layout-align="center center" style="height:64px;width:64px;background-color:red;">
						<i class="fa fa-comment"></i>
					</div>																				
				</md-card-content>
			</md-card>
			<table>
				<tr>
					<th>Profile Pic</th>	
					<th>Customer</th>
					<th>Pickup time</th>
					<th>Items</th>	
					<th>Sugar</th>	
					<th>Temp</th>	
					<th>Confirmed</th>	
					<th>Collected</th>	
				</tr>
				<tr ng-repeat="order in orders" ng-init="customer = getCustomerName(order.customer)">
					<td><img style="width:40px;" ng-src="{{customer.picture}}"/></td>
					<td>{{customer.name}}</td>
					<td>{{order.pickup_at}}</td>
					<td>{{order.items}}</td>			
					<td>{{order.sugar}}</td>			
					<td>{{order.temperature}}</td>							
					<td>{{order.confirmed}}</td>				
					<td>{{order.collected}}</td>	
					
					<td><button ng-click="collected()">Collected</button></td>			
					<td><button ng-click="collected()">Collected</button></td>
					<td><textarea></textarea></td>		
				</tr>
			</table>
		</md-content>
	</body>
</html>